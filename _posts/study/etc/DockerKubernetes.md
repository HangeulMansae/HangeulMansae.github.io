<!-- ---
layout: post
title: 01. Docker, Kubernetes
categories: [study, etc]
tags: [blog]
---

- toc
{:toc .large-only} -->

## DevOps
+ ### DevOps란
  조직이 SW 제품과, Service를 빠른 시간 내에 개발 및 배포하는 것
+ ### CI/CD란
    Continuous Integration, Continuous Delivery or Continuous Deployment의 약자

    자동 빌드, 자동 배포

    SW 개발 LifeCycle 간소화 및 가속화 하는 것을 목표

    + #### CI
        코드 변경 사항이 주기적으로 Build, Test 되면서 공유 소스 레포지토리에 통합되는 것
+ ### Provisioning
    + #### Provisioning이란
    사용자의 요구에 맞게 시스템 자체를 제공하는 것

## Jenkins
Java로 만들어진 CI/CD 파이프 라인을 구성하는 툴


## Docker
컨테이너 : 격리된 환경에서 작동하는 프로세스

이미지 단위로 프로세스 실행 환경을 구성
+ ### 장점
  + 가상머신처럼 독립적으로 실행

  + 가상머신보다 빠르고

  + 가상머신보다 쉽고 

  + 가상머신보다 효율적

  + VM은 OS 위에 다른 OS를 띄워야 하는 반면 Docker는 OS위에 Docker Engine으로 돌림

  + 자원 격리 (리눅스 기술을 이용해서 빠르고 효율적인 서버 관리가 가능하지만 어려움...)

+ ### 단점
  + 컨테이너가 많아지면 관리가 어려움
  +  서버마다 일일이 실행시켜줘야 해서 번거로움
  +  어떤 서버가 여유로운지를 알 수 없음
  +  도커 컨테이너들을 버전을 올리고 바꿀 때 일일이 다 들어가서 버전을 롤아웃/롤백 해야 함
     + #### 롤아웃이란
       새로운 버전으로 배포하는 것 
     + #### 롤백이란     
        이전 버전으로 돌아가는 것
  + 서비스 검색  
    요청을 받아서 서버로 접근할 때, 서버가 여러 개가 있다면, Loadbalancer가 처리를 해야 하는데, 이 때 서버를 일일이 등록 등 관리를 해주어야 함
  + 서비스 이상, 부하 모니터링
    여러 대의 서비스들이 여러 대의 서버를 가지고 실행 중일 때, 어떤 서비스들에 장애가 발생했을 때, 그 상황을 알 수가 없는 상황이라면 대응하기가 어려움 
    
    => **Container Orchestration으로 관리**

## Container Orchestration
+ ### 정의
    복잡한 컨테이너 환경을 효과적으로 관리하기 위한 도구

    Docker Container를 대신 관리해주는 도구

+ ### 기능
  + #### Cluster
    여러 개의 Docker Container들을 관리하면서, 여유로운 Node에 추가될 서비스를 배포한다던지, Node들을 더 많이 만들고 줄이는 등의 기능 관리
  + #### State
    상태관리

    App1이라는 서비스를 3대로 운영하고 있는데, 한대의 서버에서 장애가 발생해서 트래픽을 받지 못한다면, 자동으로 새로운 서버를 띄워서 Replica(서버 수)를 유지해 준다던지 등의 기능 존재
  + #### Scheduling
    서비스를 추가적으로 배포할 때, 알아서 비어 있는 곳에 배포를 해줌

    만약 추가적으로 배포해야 하는데 공간이 없을 경우 새로운 서버를 만들어서 배포함
  + #### RollOut/RollBack
    Version을 설정하면 Docker Container들이 한꺼번에 버전이 바뀜

    => 버전을 올리는 것, 내리는 것 전부 마찬가지
  + #### Service Discovery
    새로운 서버를 등록할 때 프록시 서버에 등록하는 등의 과정이 필요한데, 알아서 이 서버가 Container Orchestration에 등록하여 관리하여, 프록시 서버가 알아서 조회해가서, 설정을 변경하고 재시작함으로써 반영이 되게 됨

  + #### Volume
    각 Node별로 각각 다른 형태의 저장소를 운영할 수 있음

## Kubernetes
+ ### 정의
    borg를 기반으로 만든 오픈소스

    운영 환경에서 사용 가능한 Conatiner Orchestra

    행성 스케일(지구)을 커버할 수 있음

    다양한 요구사항을 만족시킬 수 있음

    어디서나 동작

+ ### 장점
  + 오픈소스
  + 무한한 확장성 (머신 러닝, CI/CD 등 플러그인을 적용해서 쓸 수도 있음)
  + 사실상 표준


## 어떤 신입을 원하는가?
~~완벽하게 준비된 사람~~

문제를 해결할 수 있는(것 같은) 사람

왜 지금 이걸 하고 있는지?

이 프로젝트의 목적은 무엇인지?

이 프로젝트가 기존 것보다 나은 것은 무엇인지?